<template>
	<div class="call-bottom--fix">
	    <div href="" class="call-bottom">
	        <p>{{person}}</p>
	        <p 
	        	class="call-bottom__tel"
	        	@click='makeCall(phone)'>{{phone}}</p>
	        <i 
	        	class="icon-svg"
	        	:style="{'background-image': tel}"
	        	@click='makeCall(phone)'></i>
	    </div>
	</div>
</template>

<script>
import wx from 'wx'

export default {
	props: {
		phone: [String, Number],
		color: String,
		person: String
	},
	computed: {
		tel: function() {
			return `url("data:image/svg+xml,%3Csvg class='icon' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cdefs%3E%3Cstyle/%3E%3C/defs%3E%3Cpath d='M362.37 752.127c23.182-16.628 42.128-35.752 57.196-57.061 15.068-21.398 25.633-45.07 32.008-70.837 16.138 10.7 27.06 19.259 32.632 25.767 5.617 6.553 8.38 13.24 8.38 20.24 0 18.5-9.316 40.433-28.262 65.575-18.813 25.143-36.645 37.76-53.63 37.76-5.126 0-11.813-1.873-20.015-5.44-8.248-3.744-17.61-9.005-28.308-16.004M225.78 750.39c-35.44-44.713-61.074-86.84-76.587-126.784-15.737-39.943-23.494-82.204-23.494-126.828 0-48.948 9.496-96.024 28.308-141.539 18.768-45.56 45.65-85.77 80.466-120.765 34.994-34.817 75.071-61.698 120.453-80.466 45.382-18.812 92.591-28.308 141.851-28.308 49.439 0 96.648 9.317 141.584 27.996 44.936 18.634 84.835 45.65 120.141 80.778 34.95 34.994 61.832 75.071 80.823 120.453 18.901 45.382 28.397 92.636 28.397 141.718 0 48.636-9.496 95.756-28.397 141.45-18.991 45.649-45.873 85.726-80.823 120.408-34.994 34.95-75.071 61.832-120.631 80.823-45.516 18.946-92.591 28.397-141.094 28.397-59.513 0-107.213-9.451-142.966-28.576-35.886-19.124-53.762-44.267-53.762-75.205 0-6.687 1.248-13.24 3.566-19.615 2.497-6.33 6.375-13.017 11.992-20.328 5.394 5.127 10.253 8.827 14.756 11.368 4.324 2.452 8.247 3.521 11.68 3.521 5.394 0 13.685-4.636 25.009-13.953 11.189-9.495 22.334-21.443 33.568-36.065 9.139-12.393 16.895-26.435 23.448-42.127 6.509-15.514 9.763-25.455 9.763-29.824 0-2.63-3.878-8.559-11.457-17.697-7.8-9.184-11.68-18.367-11.68-27.863 0-12.393 3.567-28.887 10.744-49.215 7.133-20.507 17.386-44.936 31.072-73.2 15.826-31.873 28.575-54.252 38.561-67.136 9.763-12.928 19.883-21.13 30.27-24.697 2.318-.936 6.374-1.738 11.813-2.362 17.876-1.873 31.25-9.63 40.121-23.137 8.07-13.686 15.202-31.25 21.265-52.693 6.062-21.264 9.138-39.452 9.138-54.386 0-12.126-1.827-20.329-5.706-24.564-3.744-4.146-11.68-6.374-23.939-6.374-19.124 0-35.262 1.426-48.636 4.056-13.374 2.809-23.493 6.687-30.447 11.948-8.56 6.062-22.112 20.863-40.746 44.623-18.634 23.627-37.759 50.642-57.195 80.956-35.44 55.502-64.596 114.703-87.331 177.47-22.825 62.946-34.192 110.022-34.192 141.54 0 6.24 1.426 12.616 4.056 19.48 2.809 6.822 7.623 15.827 14.622 27.016-9.495 11.813-16.494 23.627-20.996 35.128-4.503 11.502-6.866 23.137-6.866 34.95 0 39.141 21.176 71.194 63.303 96.024 42.261 24.876 97.896 37.358 167.039 37.358 53.138 0 104.76-10.432 155.09-31.295 50.197-20.64 94.464-50.018 132.713-88.133 38.205-38.205 67.761-82.338 88.446-132.356 20.774-50.063 31.205-101.953 31.205-155.715 0-53.763-10.253-105.341-30.938-154.78-20.685-49.438-50.196-93.527-88.713-132.4-38.382-38.695-82.204-68.073-131.91-88.58-49.616-20.506-101.507-30.759-155.893-30.759-54.075 0-105.832 10.253-155.404 30.893-49.75 20.685-93.572 50.197-131.776 88.446-38.071 37.892-67.449 81.892-88.134 131.954-20.773 50.197-31.205 101.909-31.205 155.36 0 46.941 7.133 90.629 21.443 130.572 14.31 40.077 35.262 75.83 63.258 107.08 5.75 6.642 11.457 11.813 17.074 15.201 5.616 3.566 10.877 5.305 15.691 5.305 1.56 0 3.879-.49 6.821-1.115 3.12-.757 6.865-2.006 11.368-3.432m351.062-389.712c15.201-18.813 26.836-41.013 35.128-66.646 8.024-25.678 12.26-53.183 12.26-82.695 22.69 8.515 37.758 16.628 45.025 24.385 7.355 7.757 10.921 18.634 10.921 32.498 0 24.073-5.75 47.522-17.252 70.525-11.635 23.18-23.627 34.638-36.064 34.638-4.815 0-11.19-1.07-19.259-3.076-8.113-2.185-18.366-5.439-30.76-9.63' fill='%23${this.color}'/%3E%3C/svg%3E")`;
		}
	},
	methods: {
		makeCall (phone) {
			wx.makePhoneCall({
				phoneNumber: phone
			});
		}
	}
}
</script>

<style lang="less">
	.call-bottom--fix {
		height: 70px;
	}
	.call-bottom{
		box-sizing: border-box;
	    display: block;
	    position: fixed;
	    bottom: 0;
	    background-color: #fff;
	    border-top: 1px solid #e3e3e3;
	    width: 100%;
	    height: 60px;
	    padding: 0 15px;
	}
	.call-bottom p {
	    margin-top: 10px;
	    line-height: 14px;
	    color: #000;
	}
	.call-bottom .icon-svg{
		width: 37px;
		height: 37px;
		background-size: 100% 100%;
	    position: absolute;
	    top: 9px;
	    right: 20px;
	    font-size: 28px;
	    color: #fff;
	    border-radius: 40px;
	    padding: 3px;
	}
	.call-bottom__tel {
		font-size: 16px;
	}
</style>